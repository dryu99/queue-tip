{"version":3,"sources":["styles/ThemeProvider.js","styles/GlobalStyle.js","context/RoomContext.js","context/UserContext.js","components/Common.js","services/socket.js","components/CreateRoomForm.js","utils/devHelpers.js","components/Introduction.js","pages/HomePage.js","utils/logger.js","components/SignInForm.js","components/ParticipantRoomView.js","components/AdminRoomView.js","components/Room.js","services/rooms.js","pages/RoomPage.js","pages/NotFoundPage.js","components/Brand.js","App.js","index.js"],"names":["theme","colors","primary","secondary","background","secondaryBackground","border","ThemeProviderWrapper","children","GlobalStyle","createGlobalStyle","p","RoomContext","createContext","RoomProvider","useState","room","setRoom","queue","setQueue","userCount","setUserCount","providerValue","useMemo","Provider","value","UserContext","UserProvider","name","roomId","isAdmin","user","setUser","Card","styled","div","CardTitle","h2","InputGroup","button","InputLabel","label","Input","input","Button","SocketEvents","Object","freeze","JOIN","LEAVE","CREATE_ROOM","DISCONNECT","ENQUEUE","DEQUEUE","TRY_ADMIN_STATUS","socket","io","FormContainer","StyledForm","form","CreateRoomForm","useContext","roomName","setRoomName","history","useHistory","onSubmit","e","preventDefault","trim","length","alert","newRoom","adminPassword","emit","newUser","res","error","push","id","type","placeholder","onChange","target","className","IntroductionContainer","StyledP","Introduction","HomePageContainer","HomePage","console","SignInFormContainer","RoomNameText","SignInForm","username","setUsername","logger","EMOJIS","QueueInfoContainer","EmojisContainer","QueueEmojiContainer","YOUTextContainer","span","QueueEmojiSpan","DoorEmojiSpan","isQueueEmpty","JoinButton","QueueEmoji","currentUser","firstCharCode","charCodeAt","index","isNaN","Math","floor","random","role","aria-label","ParticipantRoomView","currPosition","findIndex","u","disabled","onClick","map","key","AdminRoomViewContainer","RoomInfoContainer","QueueListContainer","DequeueButton","AdminRoomView","i","RoomContainer","RoomTitle","h1","CopyLinkButton","NameText","copyLinkToClipboard","tempTextArea","document","createElement","body","appendChild","window","location","href","select","execCommand","removeChild","Room","title","getSingle","a","axios","get","data","RoomPageContainer","RoomPage","roomChecked","setRoomChecked","match","useRouteMatch","useEffect","roomService","params","then","catch","finally","on","disconnectedUserId","filter","enqueuedUser","concat","dequeuedUserId","off","NotFoundPageContainer","NotFoundIcon","NotFoundPage","BrandContainer","Brand","Content","Title","h3","App","ThemeProvider","path","exact","ReactDOM","render","getElementById"],"mappings":"mKAGMA,EAAQ,CACZC,OAAQ,CACNC,QAAS,UACTC,UAAW,UACXC,WAAY,UACZC,oBAAqB,QAErBC,OAAQ,YAYGC,EARc,SAAC,GAAkB,IAAhBC,EAAe,EAAfA,SAC9B,OACE,kBAAC,IAAD,CAAeR,MAAOA,GACnBQ,I,2XCfP,IAsBeC,EAtBKC,YAAH,KAIO,SAAAC,GAAC,OAAIA,EAAEX,MAAMC,OAAOG,c,OCJ/BQ,EAAcC,0BAGdC,EAAe,SAAC,GAAkB,IAAhBN,EAAe,EAAfA,SAAe,EACpBO,mBAAS,MADW,mBACrCC,EADqC,KAC/BC,EAD+B,OAElBF,mBAAS,IAFS,mBAErCG,EAFqC,KAE9BC,EAF8B,OAGVJ,mBAAS,GAHC,mBAGrCK,EAHqC,KAG1BC,EAH0B,KAKtCC,EAAgBC,mBAAQ,iBAAO,CACnCP,OACAE,QACAE,YACAH,UACAE,WACAE,kBACE,CAACH,EAAOF,EAAMI,IAElB,OACE,kBAACR,EAAYY,SAAb,CAAsBC,MAAOH,GAC1Bd,ICnBMkB,EAAcb,0BAEdc,EAAe,SAAC,GAAkB,IAAhBnB,EAAe,EAAfA,SAAe,EAEpBO,mBAAS,CAAEa,KAAM,KAAMC,OAAQ,KAAMC,SAAS,IAF1B,mBAErCC,EAFqC,KAE/BC,EAF+B,KAItCV,EAAgBC,mBAAQ,iBAAO,CACnCQ,OACAC,aACE,CAACD,IAEL,OACE,kBAACL,EAAYF,SAAb,CAAsBC,MAAOH,GAC1Bd,I,+/BCbA,IAAMyB,EAAOC,IAAOC,IAAV,KAGK,SAAAxB,GAAC,OAAIA,EAAEX,MAAMC,OAAOI,uBACpB,SAAAM,GAAC,OAAIA,EAAEX,MAAMC,OAAOK,UAI7B8B,EAAYF,IAAOG,GAAV,KAQTC,GAJiBJ,IAAOK,OAAV,KAIDL,IAAOC,IAAV,MAMVK,EAAaN,IAAOO,MAAV,KAIVC,EAAQR,IAAOS,MAAV,KAQU,SAAAhC,GAAC,OAAIA,EAAEX,MAAMC,OAAOC,WAInC0C,EAASV,IAAOK,OAAV,K,iBCtCNM,EAAeC,OAAOC,OAAO,CACxCC,KAAM,OACNC,MAAO,QACPC,YAAa,cACbC,WAAY,aACZC,QAAS,UACTC,QAAS,UACTC,iBAAkB,qBAKLC,EAFAC,M,4MCHf,IAAMC,EAAgBvB,YAAOD,EAAPC,CAAH,KAKbwB,EAAaxB,IAAOyB,KAAV,KAuFDC,EAnFQ,WAAO,IACpB5B,EAAY6B,qBAAWnC,GAAvBM,QADmB,EAEO6B,qBAAWjD,GAArCK,EAFmB,EAEnBA,QAASI,EAFU,EAEVA,aAFU,EAIKN,mBCpBnB,IDgBc,mBAIpB+C,EAJoB,KAIVC,EAJU,KAQrBC,EAAUC,cAmChB,OACE,kBAACR,EAAD,KACE,kBAACrB,EAAD,oBACA,kBAACsB,EAAD,CAAYQ,SApCK,SAACC,GAGpB,GAFAA,EAAEC,iBAE6B,IAA3BN,EAASO,OAAOC,OAClBC,MAAM,mCACD,CACL,IAAMC,EAAU,CACd5C,KAAMkC,EACNW,cAAe,eASjBlB,EAAOmB,KAAK7B,EAAaK,YAAa,CAAEsB,UAASG,QANjC,CACd/C,KAAM,QACNE,SAAS,KAIiD,SAAC8C,GAAS,IAC5D7C,EAAsB6C,EAAtB7C,KAAMf,EAAgB4D,EAAhB5D,KAAM6D,EAAUD,EAAVC,MAEhB7D,IAAS6D,GACX7C,EAAQD,GACRd,EAAQD,GACRK,EAAa,GAEb2C,EAAQc,KAAR,gBAAsB9D,EAAK+D,MAE3BR,MAAM,oEAUR,kBAACjC,EAAD,KACE,kBAACE,EAAD,kBACA,kBAACE,EAAD,CACEsC,KAAK,OACLC,YAAY,6BACZxD,MAAOqC,EACPoB,SAAU,SAACf,GAAD,OAAOJ,EAAYI,EAAEgB,OAAO1D,WAmB1C,kBAACmB,EAAD,CACEwC,UAAU,cACVJ,KAAK,UAFP,kB,6MEtFR,IAAMK,EAAwBnD,YAAOD,EAAPC,CAAH,KAKrBoD,EAAUpD,IAAOvB,EAAV,KAuBE4E,EAnBM,WACnB,OACE,kBAACF,EAAD,KACE,kBAACjD,EAAD,iBACA,kBAACkD,EAAD,6FAGA,kBAACA,EAAD,wGAGA,kBAACA,EAAD,8M,2LCjBN,IAAME,EAAoBtD,IAAOC,IAAV,KAoBRsD,EAXE,WACf,OACE,6BACE,kBAACD,EAAD,KACE,kBAAC,EAAD,MACA,kBAAC,EAAD,S,QCTO,EAJD,WAAgB,IAAD,GAC3B,EAAAE,SAAQb,MAAR,oB,mSCAF,IAAMc,EAAsBzD,YAAOD,EAAPC,CAAH,KAMnB0D,GAAe1D,IAAOvB,EAAV,KA2DHkF,GApDI,SAAC,GAAiD,IAA/C7E,EAA8C,EAA9CA,KAAMI,EAAwC,EAAxCA,UAAWD,EAA6B,EAA7BA,SAAUE,EAAmB,EAAnBA,aAAmB,EACxCwC,qBAAWnC,GAA7BK,EAD0D,EAC1DA,KAAMC,EADoD,EACpDA,QADoD,EAElCjB,mBJrBnB,IImBqD,mBAE3D+E,EAF2D,KAEjDC,EAFiD,KA2BlE,OACE,kBAACJ,EAAD,KACE,6BACE,kBAACvD,EAAD,mBACA,kBAACwD,GAAD,KAAe5E,EAAKY,OAEtB,0BAAMsC,SA5BW,SAACC,GACpBA,EAAEC,iBAEF,IAAMO,EAAO,eACR5C,EADQ,CAEXH,KAAMkE,IAIRvC,EAAOmB,KAAK7B,EAAaG,KAAM,CAAE2B,UAAS9C,OAAQb,EAAK+D,KAAM,SAACH,GAAS,IAC7D7C,EAAuB6C,EAAvB7C,KAAMb,EAAiB0D,EAAjB1D,MAAO2D,EAAUD,EAAVC,MAChBA,GAKHmB,EAAanB,GACbN,MAAMM,KALN7C,EAAQD,GACRZ,EAASD,GACTG,EAAaD,EAAY,SAezB,kBAACkB,EAAD,KACE,kBAACE,EAAD,kBACA,kBAACE,EAAD,CACEsC,KAAK,OACLvD,MAAOqE,EACPZ,SAAU,SAACf,GAAD,OAAO4B,EAAY5B,EAAEgB,OAAO1D,WAG1C,kBAACmB,EAAD,CACEwC,UAAU,cACVJ,KAAK,UAFP,W,g8BCzDR,IAAMiB,GAAS,CACb,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eACnC,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eACxC,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eACxC,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eAAK,eACxC,eAAK,eAAK,eAAK,gBAGXC,GAAqBhE,IAAOC,IAAV,MAKlBgE,GAAkBjE,YAAOD,EAAPC,CAAH,MAQfkE,GAAsBlE,IAAOC,IAAV,MAKnBkE,GAAmBnE,IAAOoE,KAAV,MAUhBC,GAAiBrE,IAAOoE,KAAV,MAKdE,GAAgBtE,IAAOoE,KAAV,MAEP,SAAA3F,GAAC,OAAIA,EAAE8F,aAAe,mBAAqB,uBAGjDC,GAAaxE,YAAOU,EAAPV,CAAH,MAMVyE,GAAa,SAAC,GAA2B,IAAzB5E,EAAwB,EAAxBA,KAAM6E,EAAkB,EAAlBA,YACpBC,EAAgB9E,EAAKH,KAAKkF,WAAW,GACrCC,EAASC,MAAMH,GAEjBI,KAAKC,MAAMD,KAAKE,SAAWlB,GAAO3B,QADlCuC,EAAgBZ,GAAO3B,OAG3B,OACE,kBAAC8B,GAAD,KAEIrE,EAAKgD,KAAO6B,EAAY7B,GACtB,kBAACsB,GAAD,KACE,0BAAMjB,UAAU,QAAhB,QAGF,KAEJ,kBAACmB,GAAD,CACEa,KAAK,MACLC,aAAW,eAEVpB,GAAOc,MAyDDO,GAnDa,SAAC,GAA2B,IAAzBvF,EAAwB,EAAxBA,KAAMf,EAAkB,EAAlBA,KAAME,EAAY,EAAZA,MASnCqG,EAAerG,EAAMsG,WAAU,SAAAC,GAAC,OAAIA,EAAE1C,KAAOhD,EAAKgD,MAExD,OACE,6BACE,kBAACmB,GAAD,KACE,kBAACjE,EAAD,KACE,qDACA,6BAAuB,IAAlBsF,EAAsBA,EAAe,EAAI,QAEhD,kBAACtF,EAAD,KACE,iDACA,4BAAKf,EAAMoD,UAGf,kBAACoC,GAAD,CACEgB,UAA4B,IAAlBH,EACVI,QAvBY,WAChBpE,EAAOmB,KAAK7B,EAAaO,QAAS,CAAErB,OAAMF,OAAQb,EAAK+D,KAAM,SAACH,GAAS,IAC7DC,EAAUD,EAAVC,MACRA,GAASmB,EAAanB,QAkBtB,iBAMA,kBAACsB,GAAD,KACE,kBAACK,GAAD,CACEY,KAAK,MACLC,aAAW,OACXZ,aAA+B,IAAjBvF,EAAMoD,QAHtB,gBAQEpD,EAAM0G,KAAI,SAAAH,GAAC,OACT,kBAAC,GAAD,CACEI,IAAKJ,EAAE1C,GACPhD,KAAM0F,EACNb,YAAa7E,U,2jBCxH3B,IAAM+F,GAAyB5F,IAAOC,IAAV,MAItB4F,GAAoB7F,IAAOC,IAAV,MAKjB6F,GAAqB9F,YAAOD,EAAPC,CAAH,MAclB+F,GAAgB/F,YAAOU,EAAPV,CAAH,MA4CJgG,GAvCO,SAAC,GAAgC,IAA9BlH,EAA6B,EAA7BA,KAAME,EAAuB,EAAvBA,MAAOE,EAAgB,EAAhBA,UAQ9BqF,EAAgC,IAAjBvF,EAAMoD,OAE3B,OACE,kBAACwD,GAAD,KACE,kBAACC,GAAD,KACE,kBAAC9F,EAAD,KACE,gDACA,4BAAKb,IAEP,kBAACa,EAAD,KACE,iDACA,4BAAKf,EAAMoD,UAGf,kBAAC2D,GAAD,CACEP,SAAUjB,EACVkB,QAvBU,WACdpE,EAAOmB,KAAK7B,EAAaQ,QAAS,CAAExB,OAAQb,EAAK+D,KAAM,SAACH,GAAS,IACvDC,EAAUD,EAAVC,MACRA,GAASmB,EAAanB,QAkBtB,WAMA,kBAACmD,GAAD,KACG9G,EAAM0G,KAAI,SAACH,EAAGU,GAAJ,OACT,yBAAKN,IAAKJ,EAAE1C,GAAIK,UAAiB,IAAN+C,EAAU,YAAc,MAChDV,EAAE7F,Y,otBC3Df,IAAMwG,GAAgBlG,IAAOC,IAAV,MAObkG,GAAYnG,IAAOoG,GAAV,MAITC,GAAiBrG,IAAOK,OAAV,MAoBdiG,GAAWtG,IAAOvB,EAAV,MAKR8H,GAAsB,WAC1B,IAAIC,EAAeC,SAASC,cAAc,YAC1CD,SAASE,KAAKC,YAAYJ,GAC1BA,EAAajH,MAAQsH,OAAOC,SAASC,KACrCP,EAAaQ,SACbP,SAASQ,YAAY,QACrBR,SAASE,KAAKO,YAAYV,IAsCbW,GAnCF,SAAC,GAAgC,IAA9BrI,EAA6B,EAA7BA,KAAME,EAAuB,EAAvBA,MAAOE,EAAgB,EAAhBA,UACnBW,EAAS8B,qBAAWnC,GAApBK,KAER,OACE,kBAACqG,GAAD,KACE,kBAACC,GAAD,KACGrH,EAAKY,KACN,kBAAC2G,GAAD,CACEe,MAAM,iBACN3B,QAASc,IAET,0BAAMrB,KAAK,MAAMC,aAAW,QAA5B,kBAGJ,kBAACmB,GAAD,gBACU,0BAAMpD,UAAU,QAAQrD,EAAKH,MADvC,KAIEG,EAAKD,QACH,kBAAC,GAAD,CACEd,KAAMA,EACNE,MAAOA,EACPE,UAAWA,IAGb,kBAAC,GAAD,CACEJ,KAAMA,EACNe,KAAMA,EACNb,MAAOA,M,iDCvEJ,IACbqI,UANa,yCAAG,WAAOxE,GAAP,gBAAAyE,EAAA,sEACEC,KAAMC,IAAN,UAHJ,aAGI,YAAwB3E,IAD1B,cACVH,EADU,yBAETA,EAAI+E,MAFK,2CAAH,uD,uHCQf,IAAMC,GAAoB1H,IAAOC,IAAV,MAyER0H,GApEE,WAAO,IACd9H,EAAS8B,qBAAWnC,GAApBK,KADa,EAE+C8B,qBAAWjD,GAAvEI,EAFa,EAEbA,KAAME,EAFO,EAEPA,MAAOE,EAFA,EAEAA,UAAWH,EAFX,EAEWA,QAASE,EAFpB,EAEoBA,SAAUE,EAF9B,EAE8BA,aAF9B,EAGiBN,oBAAS,GAH1B,mBAGd+I,EAHc,KAGDC,EAHC,KAKfC,EAAQC,YAAc,aAgD5B,OA7CAC,qBAAU,WACJF,IAAUhJ,GACZmJ,GAAYZ,UAAUS,EAAMI,OAAOrF,IAChCsF,MAAK,SAAArJ,GACJC,EAAQD,MAETsJ,OAAM,SAAAzF,GACLmB,EAAanB,MAEd0F,SAAQ,WACPR,GAAe,QAGpB,CAAC/I,EAAMgJ,EAAO/I,IAGjBiJ,qBAAU,WAsBR,OApBA3G,EAAOiH,GAAG3H,EAAaG,MAAM,WAC3B3B,EAAaD,EAAY,MAI3BmC,EAAOiH,GAAG3H,EAAaI,OAAO,YAA6B,IAA1BwH,EAAyB,EAAzBA,mBAC/BtJ,EAASD,EAAMwJ,QAAO,SAAAjD,GAAC,OAAIA,EAAE1C,KAAO0F,MACpCpJ,EAAaD,EAAY,MAI3BmC,EAAOiH,GAAG3H,EAAaO,SAAS,YAAuB,IAApBuH,EAAmB,EAAnBA,aACjCxJ,EAASD,EAAM0J,OAAOD,OAIxBpH,EAAOiH,GAAG3H,EAAaQ,SAAS,YAAyB,IAAtBwH,EAAqB,EAArBA,eACjC1J,EAASD,EAAMwJ,QAAO,SAAAjD,GAAC,OAAIA,EAAE1C,KAAO8F,SAG/B,WAELtH,EAAOuH,SAER,CAAC5J,EAAOC,EAAUE,EAAcD,IAIjC,kBAACwI,GAAD,KAEI7H,GAAQA,EAAKH,MAAQZ,EACjB,kBAAC,GAAD,CAAMA,KAAMA,EAAME,MAAOA,EAAOE,UAAWA,IAC3CJ,EACE,kBAAC,GAAD,CAAYA,KAAMA,EAAMI,UAAWA,EAAWD,SAAUA,EAAUE,aAAcA,IAChFyI,EACE,mCAAQ,2BAAIE,EAAMI,OAAOrF,IAAzB,qBACA,O,uPC1EhB,IAAMgG,GAAwB7I,IAAOC,IAAV,MAMrB6I,GAAe9I,IAAOoE,KAAV,MAmBH2E,GAdM,WACnB,OACE,kBAACF,GAAD,KACE,+CACA,kBAACC,GAAD,CACE5D,KAAK,MACLC,aAAW,gBAFb,kB,uNChBN,IAAM6D,GAAiBhJ,IAAOC,IAAV,MAoBLgJ,GARD,WACZ,OACE,kBAACD,GAAD,KACE,uBAAGjC,KAAK,0DAAR,qB,mOCDN,IAAMmC,GAAUlJ,IAAOC,IAAV,MAIPkJ,GAAQnJ,IAAOoJ,GAAV,MAmCIC,GA5BH,WACV,OACE,kBAACC,EAAD,KACE,kBAAC,EAAD,MACA,kBAAC,EAAD,KACE,kBAAC,EAAD,KACE,kBAACJ,GAAD,KACE,kBAAC,GAAD,MACA,kBAACC,GAAD,KAAO,uBAAGpC,KAAK,KAAR,cACP,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAOwC,KAAK,aACV,kBAAC,GAAD,OAEF,kBAAC,IAAD,CAAOC,OAAK,EAACD,KAAK,KAChB,kBAAC,EAAD,OAEF,kBAAC,IAAD,KACE,kBAAC,GAAD,a,SCrChBE,IAASC,OACP,kBAAC,KAAD,KACE,kBAAC,GAAD,OAEFjD,SAASkD,eAAe,U","file":"static/js/main.e658cf93.chunk.js","sourcesContent":["import React from 'react';\nimport { ThemeProvider } from 'styled-components';\n\nconst theme = {\n  colors: {\n    primary: '#2286f7',\n    secondary: '#343a40',\n    background: '#eaeaea',\n    secondaryBackground: 'white',\n    // foreground: 'white',\n    border: '#d6d6d6'\n  }\n};\n\nconst ThemeProviderWrapper = ({ children }) => {\n  return (\n    <ThemeProvider theme={theme}>\n      {children}\n    </ThemeProvider>\n  );\n};\n\nexport default ThemeProviderWrapper;","import { createGlobalStyle } from 'styled-components';\n\nconst GlobalStyle = createGlobalStyle`\n  body {\n    margin: 0;\n    padding: 0;\n    background-color: ${p => p.theme.colors.background};\n    font-family: 'Roboto Slab', Open-Sans, serif;\n  }\n\n  .float-right {\n    float: right;\n  }\n  .bold {\n    font-weight: bold;\n  }\n  .italic {\n    font-style: italic;\n  }\n  .underline {\n    text-decoration: underline;\n  }\n`;\n\nexport default GlobalStyle;","import React, { createContext, useMemo, useState } from 'react';\n\nexport const RoomContext = createContext();\n\n// TODO consider simplifying state to just room\nexport const RoomProvider = ({ children }) => {\n  const [room, setRoom] = useState(null);\n  const [queue, setQueue] = useState([]);\n  const [userCount, setUserCount] = useState(0);\n\n  const providerValue = useMemo(() => ({\n    room,\n    queue,\n    userCount,\n    setRoom,\n    setQueue,\n    setUserCount\n  }), [queue, room, userCount]);\n\n  return (\n    <RoomContext.Provider value={providerValue}>\n      {children}\n    </RoomContext.Provider>\n  );\n};\n","import React, { createContext, useMemo, useState } from 'react';\n\nexport const UserContext = createContext();\n\nexport const UserProvider = ({ children }) => {\n  // user:  { id: null, name: null, isAdmin: false }\n  const [user, setUser] = useState({ name: null, roomId: null, isAdmin: false });\n\n  const providerValue = useMemo(() => ({\n    user,\n    setUser\n  }), [user]);\n\n  return (\n    <UserContext.Provider value={providerValue}>\n      {children}\n    </UserContext.Provider>\n  );\n};\n","import styled from 'styled-components';\n\nexport const Card = styled.div`\n  margin: 1em;\n  padding: 1em 1.5em;\n  background-color: ${p => p.theme.colors.secondaryBackground};\n  border: 1px solid ${p => p.theme.colors.border};\n  border-radius: 3px;\n`;\n\nexport const CardTitle = styled.h2`\n  margin: 0.25em 0 0.75em 0;\n`;\n\nexport const ListItemButton = styled.button`\n  padding: 0.4em 0.75em;\n`;\n\nexport const InputGroup = styled.div`\n  display: flex;\n  flex-direction: column;\n  margin-bottom: 1em;\n`;\n\nexport const InputLabel = styled.label`\n  margin-bottom: 0.25em;\n`;\n\nexport const Input = styled.input`\n  padding: 0.5em;\n  font-size: 1em;\n  border: 1px solid #bbbbbb;\n  border-radius: 3px;\n  transition: all 0.15s ease;\n  &:focus {\n    outline: none;\n    box-shadow: 0 0 0 1px ${p => p.theme.colors.primary};\n  }\n`;\n\nexport const Button = styled.button`\n  font-family: 'Roboto Slab';\n  padding: 0.5em;\n  min-width: 80px;\n`;","import io from 'socket.io-client';\n\nexport const SocketEvents = Object.freeze({\n  JOIN: 'join',\n  LEAVE: 'leave',\n  CREATE_ROOM: 'create_room',\n  DISCONNECT: 'disconnect',\n  ENQUEUE: 'enqueue',\n  DEQUEUE: 'dequeue',\n  TRY_ADMIN_STATUS: 'try_admin_status'\n});\n\nconst socket = io();\n\nexport default socket;","import React, { useContext, useState } from 'react';\nimport { Button, Card, CardTitle, Input, InputGroup, InputLabel } from './Common';\nimport styled from 'styled-components';\nimport { UserContext } from '../context/UserContext';\nimport socket, { SocketEvents } from '../services/socket';\nimport { useHistory } from 'react-router-dom';\nimport { RoomContext } from '../context/RoomContext';\nimport { generateTestId } from '../utils/devHelpers';\n\nconst FormContainer = styled(Card)`\n  display: flex;\n  flex-direction: column;\n`;\n\nconst StyledForm = styled.form`\n  height: 100%;\n`;\n\nconst CreateRoomForm = () => {\n  const { setUser } = useContext(UserContext);\n  const { setRoom, setUserCount } = useContext(RoomContext);\n\n  const [roomName, setRoomName] = useState(generateTestId(10));\n  // const [userName, setUserName] = useState('');\n  // const [adminPassword, setAdminPassword] = useState('');\n\n  const history = useHistory();\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n\n    if (roomName.trim().length === 0) {\n      alert('Please type in a room name!');\n    } else {\n      const newRoom = {\n        name: roomName,\n        adminPassword: 'placeholder'\n      };\n\n      const newUser = {\n        name: 'admin',\n        isAdmin: true\n      };\n\n      // TODO don't need to necessarily use socket here, can make http request\n      socket.emit(SocketEvents.CREATE_ROOM, { newRoom, newUser }, (res) => {\n        const { user, room, error } = res;\n\n        if (room && !error) {\n          setUser(user);\n          setRoom(room);\n          setUserCount(0);\n\n          history.push(`/room/${room.id}`);\n        } else {\n          alert('Something went wrong with room creation, please try again!');\n        }\n      });\n    }\n  };\n\n  return (\n    <FormContainer>\n      <CardTitle>Create Room</CardTitle>\n      <StyledForm onSubmit={handleSubmit}>\n        <InputGroup>\n          <InputLabel>Room Name</InputLabel>\n          <Input\n            type=\"text\"\n            placeholder=\"e.g. CPSC 110 Office Hours\"\n            value={roomName}\n            onChange={(e) => setRoomName(e.target.value)}\n          />\n        </InputGroup>\n        {/* <InputGroup>\n          <InputLabel>Your Name</InputLabel>\n          <Input\n            type=\"text\"\n            value={userName}\n            onChange={(e) => setUserName(e.target.value)}\n          />\n        </InputGroup> */}\n        {/* <InputGroup>\n          <InputLabel>New Admin Password</InputLabel>\n          <Input\n            type=\"password\"\n            value={adminPassword}\n            onChange={(e) => setAdminPassword(e.target.value)}\n          />\n        </InputGroup> */}\n        <Button\n          className=\"float-right\"\n          type=\"submit\"\n        >\n          Create Room\n        </Button>\n      </StyledForm>\n    </FormContainer>\n  );\n};\n\nexport default CreateRoomForm;","// helpful for quickly filling in form fields when testing\nexport const generateTestId = (length) => {\n  let result = '';\n\n  // eslint-disable-next-line no-undef\n  if (process.env.NODE_ENV === 'development') {\n    const characters = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';\n    const charactersLength = characters.length;\n    for ( let i = 0; i < length; i++ ) {\n      result += characters.charAt(Math.floor(Math.random() * charactersLength));\n    }\n  }\n\n  return result;\n};","import React from 'react';\nimport styled from 'styled-components';\nimport { Card, CardTitle } from './Common';\n\nconst IntroductionContainer = styled(Card)`\n  display: flex;\n  flex-direction: column;\n`;\n\nconst StyledP = styled.p`\n  margin-top: 0;\n`;\n\nconst Introduction = () => {\n  return (\n    <IntroductionContainer>\n      <CardTitle>Welcome!</CardTitle>\n      <StyledP>\n        queue-tip is a simple web app that allows you to facilitate online queues with ease.\n      </StyledP>\n      <StyledP>\n        To get started, just use the form to create a room and send the room link to your participants!\n      </StyledP>\n      <StyledP>\n        As the room creator, you will be able to see everyone in the queue and remove queued users.\n        Participants who enter through the link are only able to join the queue and see their current position.\n      </StyledP>\n\n    </IntroductionContainer>\n  );\n};\n\nexport default Introduction;","import React from 'react';\n\nimport CreateRoomForm from '../components/CreateRoomForm';\nimport styled from 'styled-components';\nimport Introduction from '../components/Introduction';\n\nconst HomePageContainer = styled.div`\n  display: flex;\n  justify-content: space-between;\n  align-items: flex-start;\n  & > div {\n    width: 50%;\n  }\n`;\n\nconst HomePage = () => {\n  return (\n    <div>\n      <HomePageContainer>\n        <Introduction />\n        <CreateRoomForm />\n      </HomePageContainer>\n    </div>\n  );\n};\n\nexport default HomePage;","const info = (...params) => {\n  // eslint-disable-next-line no-undef\n  if (process.env.NODE_ENV === 'development') {\n    console.log(...params);\n  }\n};\n\nconst error = (...params) => {\n  console.error(...params);\n};\n\nexport default { info, error };","import React, { useContext, useState } from 'react';\nimport styled from 'styled-components';\nimport { UserContext } from '../context/UserContext';\nimport { Button, Card, CardTitle, Input, InputGroup, InputLabel } from './Common';\nimport socket, { SocketEvents } from '../services/socket';\nimport logger from '../utils/logger';\nimport { generateTestId } from '../utils/devHelpers';\n\nconst SignInFormContainer = styled(Card)`\n  display: flex;\n  flex-direction: column;\n  width: 50%;\n`;\n\nconst RoomNameText = styled.p`\n  margin-top: 0;\n  margin-bottom: 0.75em;\n  font-size: 1.25em;\n  text-align: center;\n`;\n\nconst SignInForm = ({ room, userCount, setQueue, setUserCount }) => {\n  const { user, setUser } = useContext(UserContext);\n  const [username, setUsername] = useState(generateTestId(5));\n\n  // set current user data\n  const handleSubmit = (e) => {\n    e.preventDefault();\n\n    const newUser = {\n      ...user,\n      name: username\n    };\n\n    // send room join request to server + receive data on current room state\n    socket.emit(SocketEvents.JOIN, { newUser, roomId: room.id }, (res) => {\n      const { user, queue, error } = res;\n      if (!error) {\n        setUser(user);\n        setQueue(queue);\n        setUserCount(userCount + 1);\n      } else {\n        logger.error(error);\n        alert(error);\n      }\n    });\n  };\n\n  return (\n    <SignInFormContainer>\n      <div>\n        <CardTitle>Enter Room</CardTitle>\n        <RoomNameText>{room.name}</RoomNameText>\n      </div>\n      <form onSubmit={handleSubmit}>\n        <InputGroup>\n          <InputLabel>Your Name</InputLabel>\n          <Input\n            type=\"text\"\n            value={username}\n            onChange={(e) => setUsername(e.target.value)}\n          />\n        </InputGroup>\n        <Button\n          className=\"float-right\"\n          type=\"submit\">\n          Join\n        </Button>\n      </form>\n    </SignInFormContainer>\n  );\n};\n\nexport default SignInForm;","import React from 'react';\nimport socket, { SocketEvents } from '../services/socket';\nimport logger from '../utils/logger';\nimport { Button, Card } from './Common';\nimport styled from 'styled-components';\n\nconst EMOJIS = [\n  '🐢','🐍','🦖','🐡','🐠','🐬','🐳','🐅',\n  '🦓','🦍','🐘','🦏','🐫','🦒','🐂','🐄','🐎',\n  '🐖','🐑','🐐','🦌','🐕','🐈','🐓','🦃','🐇',\n  '🐀','🐿','🦔','🐉','🦆','🦅','🦇','🐝','🐛',\n  '🐜','🌛','🗿','🐒'\n];\n\nconst QueueInfoContainer = styled.div`\n  display: flex;\n  justify-content: space-around;\n`;\n\nconst EmojisContainer = styled(Card)`\n  display: flex;\n  flex-flow: row wrap;\n  justify-content: flex-start;\n  align-items: flex-end;\n  padding-top: 1.5em;\n`;\n\nconst QueueEmojiContainer = styled.div`\n  display: flex;\n  flex-direction: column;\n`;\n\nconst YOUTextContainer = styled.span`\n  position: relative;\n\n  & > span {\n    position: absolute;\n    top: -10px;\n    right: 10px;\n  }\n`;\n\nconst QueueEmojiSpan = styled.span`\n  font-size: 3em;\n  margin: 3px 3px 10px 3px;\n`;\n\nconst DoorEmojiSpan = styled.span`\n  font-size: 3em;\n  margin: ${p => p.isQueueEmpty ? '3px 3px 10px 3px' : '3px 30px 10px 3px'}\n`;\n\nconst JoinButton = styled(Button)`\n  font-size: 1em;\n  padding: 0.75em 1em;\n`;\n\n// each user gets an emoji avatar based on the first char in their name\nconst QueueEmoji = ({ user, currentUser }) => {\n  const firstCharCode = user.name.charCodeAt(0);\n  const index = !isNaN(firstCharCode)\n    ? firstCharCode % EMOJIS.length\n    : Math.floor(Math.random() * EMOJIS.length);\n\n  return (\n    <QueueEmojiContainer>\n      {\n        user.id === currentUser.id ?\n          <YOUTextContainer>\n            <span className=\"bold\">YOU</span>\n          </YOUTextContainer>\n          :\n          null\n      }\n      <QueueEmojiSpan\n        role=\"img\"\n        aria-label=\"user-avatar\"\n      >\n        {EMOJIS[index]}\n      </QueueEmojiSpan>\n    </QueueEmojiContainer>\n  );\n};\n\nconst ParticipantRoomView = ({ user, room, queue }) => {\n\n  const joinQueue = () => {\n    socket.emit(SocketEvents.ENQUEUE, { user, roomId: room.id }, (res) => {\n      const { error } = res;\n      error && logger.error(error);\n    });\n  };\n\n  const currPosition = queue.findIndex(u => u.id === user.id);\n\n  return (\n    <div>\n      <QueueInfoContainer>\n        <Card>\n          <p>Your position in queue</p>\n          <h2>{currPosition !== -1 ? currPosition + 1 : 'N/A'}</h2>\n        </Card>\n        <Card>\n          <p>Current queue size</p>\n          <h2>{queue.length}</h2>\n        </Card>\n      </QueueInfoContainer>\n      <JoinButton\n        disabled={currPosition !== -1}\n        onClick={joinQueue}\n      >\n        Click to join\n      </JoinButton>\n      <EmojisContainer>\n        <DoorEmojiSpan\n          role=\"img\"\n          aria-label=\"door\"\n          isQueueEmpty={queue.length === 0}\n        >\n          🚪\n        </DoorEmojiSpan>\n        {\n          queue.map(u =>\n            <QueueEmoji\n              key={u.id}\n              user={u}\n              currentUser={user}\n            />\n          )\n        }\n      </EmojisContainer>\n    </div>\n  );\n};\n\nexport default ParticipantRoomView;","import React from 'react';\nimport socket, { SocketEvents } from '../services/socket';\nimport logger from '../utils/logger';\nimport { Button, Card } from './Common';\nimport styled from 'styled-components';\n\nconst AdminRoomViewContainer = styled.div`\n\n`;\n\nconst RoomInfoContainer = styled.div`\n  display: flex;\n  justify-content: space-around;\n`;\n\nconst QueueListContainer = styled(Card)`\n  display: flex;\n  flex-direction: column;\n  margin: 1em auto;\n  width: 50%;\n  height: 400px;\n  padding: 1em;\n  overflow: auto;\n\n  & > div {\n    margin-bottom: 0.5em;\n  }\n`;\n\nconst DequeueButton = styled(Button)`\n  font-size: 1em;\n  padding: 0.75em 1em;\n`;\n\nconst AdminRoomView = ({ room, queue, userCount }) => {\n  const dequeue = () => {\n    socket.emit(SocketEvents.DEQUEUE, { roomId: room.id }, (res) => {\n      const { error } = res;\n      error && logger.error(error);\n    });\n  };\n\n  const isQueueEmpty = queue.length === 0;\n\n  return (\n    <AdminRoomViewContainer>\n      <RoomInfoContainer>\n        <Card>\n          <p>Current room size</p>\n          <h2>{userCount}</h2>\n        </Card>\n        <Card>\n          <p>Current queue size</p>\n          <h2>{queue.length}</h2>\n        </Card>\n      </RoomInfoContainer>\n      <DequeueButton\n        disabled={isQueueEmpty}\n        onClick={dequeue}\n      >\n        Dequeue\n      </DequeueButton>\n      <QueueListContainer>\n        {queue.map((u, i) =>\n          <div key={u.id} className={i === 0 ? 'underline' : null}>\n            {u.name}\n          </div>\n        )}\n      </QueueListContainer>\n    </AdminRoomViewContainer>\n  );\n};\n\nexport default AdminRoomView;","import React, { useContext } from 'react';\nimport { UserContext } from '../context/UserContext';\nimport styled from 'styled-components';\nimport ParticipantRoomView from './ParticipantRoomView';\nimport AdminRoomView from './AdminRoomView';\n\nconst RoomContainer = styled.div`\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  text-align: center;\n`;\n\nconst RoomTitle = styled.h1`\n  margin: 0 0 0.5em 0;\n`;\n\nconst CopyLinkButton = styled.button`\n  padding: 0 0 0 5px;\n  border: none;\n  font-size: 0.75em;\n  background-color: transparent;\n\n  &:hover {\n    text-shadow: 0 0 1px black;\n  }\n\n  &:focus {\n    outline: none;\n    box-shadow: none;\n  }\n\n  &:active {\n    text-shadow: 0 0 3px black;\n  }\n`;\n\nconst NameText = styled.p`\n  margin: 0 0 0.5em 0;\n  font-size: 1.25em;\n`;\n\nconst copyLinkToClipboard = () => {\n  let tempTextArea = document.createElement('textarea');\n  document.body.appendChild(tempTextArea);\n  tempTextArea.value = window.location.href;\n  tempTextArea.select();\n  document.execCommand('copy');\n  document.body.removeChild(tempTextArea);\n};\n\nconst Room = ({ room, queue, userCount }) => {\n  const { user } = useContext(UserContext);\n\n  return (\n    <RoomContainer>\n      <RoomTitle>\n        {room.name}\n        <CopyLinkButton\n          title=\"copy room link\"\n          onClick={copyLinkToClipboard}\n        >\n          <span role=\"img\" aria-label=\"link\">🔗</span>\n        </CopyLinkButton>\n      </RoomTitle>\n      <NameText>\n        Welcome <span className=\"bold\">{user.name}</span>!\n      </NameText>\n      {\n        user.isAdmin ?\n          <AdminRoomView\n            room={room}\n            queue={queue}\n            userCount={userCount}\n          />\n          :\n          <ParticipantRoomView\n            room={room}\n            user={user}\n            queue={queue}\n          />\n      }\n    </RoomContainer>\n  );\n};\n\nexport default Room;","import axios from 'axios';\nconst baseUrl = '/api/rooms';\n\nconst getSingle = async (id) => {\n  const res = await axios.get(`${baseUrl}/${id}`);\n  return res.data;\n};\n\nexport default {\n  getSingle\n};","import React, { useContext, useEffect, useState } from 'react';\nimport { useRouteMatch } from 'react-router-dom';\nimport SignInForm from '../components/SignInForm';\nimport Room from '../components/Room';\nimport { RoomContext } from '../context/RoomContext';\nimport { UserContext } from '../context/UserContext';\nimport socket, { SocketEvents } from '../services/socket';\nimport logger from '../utils/logger';\nimport roomService from '../services/rooms';\nimport styled from 'styled-components';\n\nconst RoomPageContainer = styled.div`\n  display: flex;\n  justify-content: center;\n`;\n\nconst RoomPage = () => {\n  const { user } = useContext(UserContext);\n  const { room, queue, userCount, setRoom, setQueue, setUserCount } = useContext(RoomContext);\n  const [roomChecked, setRoomChecked] = useState(false);\n\n  const match = useRouteMatch('/room/:id');\n\n  // init room data if it exists, ow error\n  useEffect(() => {\n    if (match && !room) {\n      roomService.getSingle(match.params.id)\n        .then(room => {\n          setRoom(room);\n        })\n        .catch(error => {\n          logger.error(error);\n        })\n        .finally(() => {\n          setRoomChecked(true);\n        });\n    }\n  }, [room, match, setRoom]);\n\n  // subscribe to socket events\n  useEffect(() => {\n    // when new users join the room, update room user count\n    socket.on(SocketEvents.JOIN, () => {\n      setUserCount(userCount + 1);\n    });\n\n    // when another user disconnects from room, remove from user list\n    socket.on(SocketEvents.LEAVE, ({ disconnectedUserId }) => {\n      setQueue(queue.filter(u => u.id !== disconnectedUserId));\n      setUserCount(userCount - 1);\n    });\n\n    // when another user joins queue, update queue\n    socket.on(SocketEvents.ENQUEUE, ({ enqueuedUser }) => {\n      setQueue(queue.concat(enqueuedUser));\n    });\n\n    // when another user leaves queue, update queue\n    socket.on(SocketEvents.DEQUEUE, ({ dequeuedUserId }) => {\n      setQueue(queue.filter(u => u.id !== dequeuedUserId));\n    });\n\n    return () => {\n      // unsubscribe from listeners\n      socket.off();\n    };\n  }, [queue, setQueue, setUserCount, userCount]);\n\n  // TODO make this more clean\n  return (\n    <RoomPageContainer>\n      {\n        user && user.name && room\n          ? <Room room={room} queue={queue} userCount={userCount}/>\n          : room\n            ? <SignInForm room={room} userCount={userCount} setQueue={setQueue} setUserCount={setUserCount} />\n            : roomChecked\n              ? <p>Room <i>{match.params.id}</i> doesn&apos;t exist...</p>\n              : null\n      }\n    </RoomPageContainer>\n  );\n};\n\nexport default RoomPage;","import React from 'react';\n\nimport styled from 'styled-components';\n\nconst NotFoundPageContainer = styled.div`\n  display: flex;\n  flex-direction: column;\n  text-align: center;\n`;\n\nconst NotFoundIcon = styled.span`\n  margin: 0;\n  font-size: 2em;\n`;\n\nconst NotFoundPage = () => {\n  return (\n    <NotFoundPageContainer>\n      <h1>Page not found!</h1>\n      <NotFoundIcon\n        role=\"img\"\n        aria-label=\"shook-monkey\"\n      >\n        🙉\n      </NotFoundIcon>\n    </NotFoundPageContainer>\n  );\n};\n\nexport default NotFoundPage;","import React from 'react';\nimport styled from 'styled-components';\n\nconst BrandContainer = styled.div`\n  position: absolute;\n  top: 10px;\n  right: 10px;\n  font-size: 0.75em;  \n\n  & > a {\n    color: black;\n    text-decoration: none;\n  }\n`;\n\nconst Brand = () => {\n  return (\n    <BrandContainer>\n      <a href=\"https://en.wikipedia.org/wiki/Daniel_(Elton_John_song)\">Daniel Ryu 2021</a>\n    </BrandContainer>\n  );\n};\n\nexport default Brand;","import React from 'react';\nimport {\n  Switch,\n  Route\n} from 'react-router-dom';\n\n\nimport ThemeProvider from './styles/ThemeProvider';\nimport GlobalStyle from './styles/GlobalStyle';\nimport styled from 'styled-components';\nimport { RoomProvider } from './context/RoomContext';\nimport { UserProvider } from './context/UserContext';\nimport HomePage from './pages/HomePage';\nimport RoomPage from './pages/RoomPage';\nimport NotFoundPage from './pages/NotFoundPage';\nimport Brand from './components/Brand';\n\nconst Content = styled.div`\n  padding: 2em 7.5em;\n`;\n\nconst Title = styled.h3`\n  text-align: center;\n  & > a {\n    color: black;\n  }\n`;\n\nconst App = () => {\n  return (\n    <ThemeProvider>\n      <GlobalStyle />\n      <UserProvider>\n        <RoomProvider>\n          <Content>\n            <Brand />\n            <Title><a href=\"/\">queue-tip</a></Title>\n            <Switch>\n              <Route path=\"/room/:id\">\n                <RoomPage />\n              </Route>\n              <Route exact path=\"/\">\n                <HomePage />\n              </Route>\n              <Route>\n                <NotFoundPage />\n              </Route>\n            </Switch>\n          </Content>\n        </RoomProvider>\n      </UserProvider>\n    </ThemeProvider>\n  );\n\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nimport {\n  BrowserRouter as Router\n} from 'react-router-dom';\n\nReactDOM.render(\n  <Router>\n    <App />\n  </Router>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}